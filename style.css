/* ===== Base ===== */
:root{
  --bg:#fff; --text:#1a1b22; --muted:#6b7280; --line:#e5e7eb; --card:#fff;
  --shadow:0 6px 24px rgba(17,24,39,.10);
  --purple:#6b3df0; --purple-700:#532be0; --pink:#ff3d86; --teal:#41c7c7;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{font:16px/1.55 "Poppins",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text);background:var(--bg)}
img{max-width:100%;display:block}
.container{max-width:1080px;margin:0 auto;padding:0 20px}
.hidden{display:none}
.muted{color:var(--muted)}

/* ===== Buttons ===== */
.btn{display:inline-flex;align-items:center;gap:.5rem;border:0;background:#eee;color:#111;padding:.7rem 1.1rem;border-radius:999px;cursor:pointer;text-decoration:none;font-weight:700}
.btn--primary{background:var(--purple);color:#fff}
.btn--primary-ghost{background:#fff;border:1px solid var(--line);color:#111;box-shadow:var(--shadow)}
.btn:is(:hover,:focus){filter:brightness(.98)}

/* ===== Nav ===== */
.nav{position:sticky;top:0;background:rgba(255,255,255,.9);backdrop-filter:blur(10px);border-bottom:1px solid var(--line);z-index:50}
.nav__row{display:flex;justify-content:space-between;align-items:center;padding:14px 0}
.brand{display:flex;align-items:center;gap:.6rem;text-decoration:none}
.brand__mark{width:28px;height:20px;border-radius:6px;background:conic-gradient(from 20deg, var(--pink), var(--purple), var(--teal));box-shadow:0 4px 12px rgba(107,61,240,.35)}
.brand__text{font-weight:800;color:var(--purple)}
.menu{display:flex;align-items:center;gap:20px}
.menu__link{color:var(--text);text-decoration:none;font-weight:700;opacity:.85}
.menu__link:hover{opacity:1}
.is-active{opacity:1}

/* ===== Hero ===== */
.hero{color:#fff;position:relative}
.hero--plain{background:linear-gradient(180deg,#ffffff 0,#ffffff 40%,#faf7ff 100%);color:var(--text)}
.hero--image{
  background-image:linear-gradient(rgba(37,21,84,.55),rgba(37,21,84,.55)),
                   url('https://images.unsplash.com/photo-1605557635309-4f8a2b0ea57a?q=80&w=1400&auto=format&fit=crop');
  background-size:cover;background-position:center;color:#fff
}
.hero__content{padding:64px 0 24px}
.hero__content--home{padding:80px 0 10px}
.hero__content--browse{padding:72px 0 36px}
.hero__title{margin:0 0 10px;font-weight:800}
.hero__title--xl{font-size:48px;line-height:1.1;color:#5a33ef}
.hero__title--sm{font-size:36px;line-height:1.1;color:#fff;margin-bottom:10px}
.hero__eyebrow{margin:0 0 24px;font-weight:800;letter-spacing:.02em}
.accent{color:#5a33ef}
.section{padding:28px 0 56px}

/* ===== Search ===== */
.hero-search-wrap{position:relative;max-width:760px}
.search{display:flex;align-items:center;gap:10px;max-width:640px}
.search--home{max-width:760px}
.search__input{
  flex:1;padding:14px 16px;border:1px solid #cdd3ea;border-radius:12px;
  outline:none;font-size:16px;background:#fff
}
.search__btn{
  width:56px;height:46px;border-radius:12px;border:0;background:var(--purple);
  color:#fff;box-shadow:0 10px 16px rgba(107,61,240,.25);cursor:pointer
}

/* ===== Car animation layer (Home) ===== */
.car{
  position:absolute;
  right:-420px;               /* off-screen to the right initially */
  top:-90px;                  /* visually near the search bar */
  width:360px; height:120px;
  pointer-events:none;
  opacity:0;
  transform:translateX(0);
}
.car--enter{
  animation: carIn .7s ease-out forwards;
}
.car--exit{
  animation: carOut .6s ease-in forwards;
}
@keyframes carIn{
  0%{transform:translateX(0); opacity:0}
  100%{transform:translateX(-440px); opacity:1} /* slides into view over the search */
}
@keyframes carOut{
  0%{opacity:1; transform:translateX(-440px)}
  100%{opacity:0; transform:translateX(-1200px)} /* drives out to the left */
}

/* ===== Illustration (Home) ===== */
.city-illustration{position:relative;height:280px;margin:40px auto 0;max-width:760px}
.sun{position:absolute;left:80px;top:22px;width:60px;height:60px;background:var(--pink);border-radius:50%;box-shadow:0 10px 30px rgba(255,61,134,.35)}
.birds::before{content:"";position:absolute;left:260px;top:70px;width:140px;height:30px;background:
 radial-gradient(circle at 10px 10px,#000 35%,transparent 36%),
 radial-gradient(circle at 70px 8px,#000 35%,transparent 36%),
 radial-gradient(circle at 120px 12px,#000 35%,transparent 36%);opacity:.35;filter:blur(.8px)}
.buildings{position:absolute;bottom:0;left:50%;transform:translateX(-50%);display:flex;align-items:flex-end;gap:28px}
.house{width:170px;height:150px;background:#5c2dcf;border-radius:6px 6px 0 0;position:relative;box-shadow:var(--shadow)}
.house::before{content:"";position:absolute;left:20px;top:24px;width:100px;height:70px;background:#fff;border-radius:4px}
.tower{width:140px;height:200px;background:#4b1fc3;border-radius:6px 6px 0 0;position:relative;box-shadow:var(--shadow)}
.tower.tall{height:230px}
.tower::before,.tower.tall::before{content:"";position:absolute;left:18px;top:20px;width:100px;height:140px;background:repeating-linear-gradient(#fff 0 12px,transparent 12px 24px);opacity:.95;border-radius:3px}
.trees{position:absolute;bottom:0;left:0;right:0;height:18px;background:linear-gradient(90deg,transparent 0 5%,#1f2937 5% 95%,transparent 95% 100%)}
.trees::before{content:"";position:absolute;right:90px;top:-36px;width:42px;height:42px;background:#87e6ef;border-radius:50%}
.trees::after{content:"";position:absolute;right:40px;top:-26px;width:28px;height:28px;background:#87e6ef;border-radius:50%}

/* ===== Filters & Grid (Browse) ===== */
.filters{display:flex;justify-content:flex-end;margin:18px 0}
.filters__price{width:420px}
.filters__label{display:block;font-weight:700;margin-bottom:6px}
#priceMax{width:100%}
.filters__scale{display:flex;justify-content:space-between;font-size:12px;color:var(--muted);margin-top:6px}

.results-title{margin:22px 0 12px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}
.card{background:var(--card);border:1px solid var(--line);border-radius:14px;box-shadow:var(--shadow);overflow:hidden}
.card__img{aspect-ratio:4/3;object-fit:cover;background:#f5f6fb}
.card__body{padding:14px}
.card__title{font-weight:800;color:#4d35db;text-decoration:none}
.specs{display:grid;grid-template-columns:auto 1fr;row-gap:6px;column-gap:8px;margin:10px 0;color:var(--muted);font-size:14px}
.price{font-weight:800;color:#1f2937}

/* ===== Forms ===== */
.form label{display:block;font-weight:600;margin:12px 0 6px}
.form input,.form textarea{width:100%;padding:12px;border:1px solid #cdd3ea;border-radius:10px;font:inherit}
.grid--two{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:640px){.grid--two{grid-template-columns:1fr}}
